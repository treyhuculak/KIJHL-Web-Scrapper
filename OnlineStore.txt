
CREATE TABLE Customer(
    customerId INT AUTO_INCREMENT PRIMARY KEY,
    firstName VARCHAR(50),
    lastName VARCHAR(50),
    email VARCHAR(50),
    phoneNumber VARCHAR(20),
    address VARCHAR(100),
    city VARCHAR(50),
    state VARCHAR(50),
    postalCode VARCHAR(20),
    country VARCHAR(50),
    userId int,
    password VARCHAR(50)
);

CREATE TABLE Category (
   categoryId INT AUTO_INCREMENT PRIMARY KEY,
   categoryName VARCHAR(50)
);

CREATE TABLE Warehouse (
   warehouseId INT AUTO_INCREMENT PRIMARY KEY,
   warehouseName VARCHAR(20)
);

CREATE TABLE Product (
   productId INT AUTO_INCREMENT PRIMARY KEY,
   productName VARCHAR(50),
   productPrice DECIMAL(6, 2),
   productImageURL VARCHAR(100),
   productImage BLOB,
   productDesc VARCHAR(200),
   categoryId INT,

   FOREIGN KEY (categoryId) REFERENCES Category(categoryId)
);

CREATE TABLE PaymentMethod(
    paymentMethodId INT AUTO_INCREMENT PRIMARY KEY,
    paymentType VARCHAR(50),
    paymentNumber INT,
    paymentExpiryDate DATE,
    customerId INT,

    FOREIGN KEY (customerId) REFERENCES Customer(customerId)
);

CREATE TABLE Review(
    reviewId INT AUTO_INCREMENT PRIMARY KEY,
    reviewRating INT NOT NULL CHECK (reviewRating >= 1 AND reviewRating <= 5),
    reviewText VARCHAR(500),
    reviewDate DATE,
    customerId INT,
    productId INT,

    FOREIGN KEY (customerId) REFERENCES Customer(customerId),
    FOREIGN KEY (productId) REFERENCES Product(productId)
);

CREATE TABLE InCart(
    inCartQuantity INT,
    inCartPrice DECIMAL(6, 2),
    customerId INT,
    productId INT,

    FOREIGN KEY (customerId) REFERENCES Customer(customerId),
    FOREIGN KEY (productId) REFERENCES Product(productId)
);

CREATE TABLE Shipment (
   shipmentId INT AUTO_INCREMENT PRIMARY KEY,
   shipmentDate DATE,
   shipmentDesc VARCHAR(200),
   warehouseId INT,

   FOREIGN KEY (warehouseId) REFERENCES Warehouse(warehouseId)
);

CREATE TABLE ProductInventory (
   inventoryQuantity INT,
   productId INT,
   warehouseId INT,
  
   FOREIGN KEY (productId) REFERENCES Product(productId),
   FOREIGN KEY (warehouseId) REFERENCES Warehouse(warehouseId)
);

CREATE TABLE OrderSummary(
    orderId INT AUTO_INCREMENT PRIMARY KEY,
    orderDate DATE,
    totalAmount DECIMAL(6, 2),
    shipToAddress VARCHAR(100),
    shipToCity VARCHAR(50),
    shipToState VARCHAR(50),
    shipToCountry VARCHAR(50),
    shipToPostalCode VARCHAR(20),
    customerId INT,
    shipmentId INT,

    FOREIGN KEY (customerId) REFERENCES Customer(customerId),
    FOREIGN KEY (shipmentId) REFERENCES Shipment(shipmentId)
);

CREATE TABLE OrderProduct (
   orderProductQuantity INT,
   orderProductPrice DECIMAL(6, 2),
   productId INT,
   orderId INT,

   FOREIGN KEY (productId) REFERENCES Product(productId),
   FOREIGN KEY (orderId) REFERENCES OrderSummary(orderId)
);